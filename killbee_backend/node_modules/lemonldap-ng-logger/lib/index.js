(function() {
  /*
   * Load chosen logger
   */
  module.exports = function(conf, type) {
    var cl, m;
    cl = (type ? conf.userLogger || conf.logger : conf.logger) || 'Std';
    cl = cl.replace(/^Lemonldap::NG::Common::Logger::/i, '');
    try {
      m = require(`./${cl}`);
    } catch (error) {
      m = require(`lemonldap-ng-conf-${cl / toLowerCase()}`);
    }
    return new m(conf, type);
  };

}).call(this);
